<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relat√≥rio de Humor Semanal</title>
    <link rel="stylesheet" href="index.css"> <!-- Link para o arquivo CSS -->
</head>
<body>

    <div id="container">
        <h1>Relat√≥rio de Humor Semanal</h1>
        <img src="fotos/download.jfif" alt="Hello Kitty" class="imagem-hello-kitty">

        <form id="humorForm">
            <label for="dia">Escolha o dia da semana: </label>
            <select id="dia" name="dia">
                <option value="1">Segunda-feira</option>
                <option value="2">Ter√ßa-feira</option>
                <option value="3">Quarta-feira</option>
                <option value="4">Quinta-feira</option>
                <option value="5">Sexta-feira</option>
                <option value="6">S√°bado</option>
                <option value="7">Domingo</option>
            </select>

            <label for="humor">Como voc√™ se sente hoje? (1 a 5): </label>
            <div class="radio-buttons">
                <label><input type="radio" name="humor" value="1"> 1</label>
                <label><input type="radio" name="humor" value="2"> 2</label>
                <label><input type="radio" name="humor" value="3"> 3</label>
                <label><input type="radio" name="humor" value="4"> 4</label>
                <label><input type="radio" name="humor" value="5"> 5</label>
            </div>

            <button type="submit">Registrar</button>
        </form>

        <h2>Relat√≥rio</h2>
        <ul id="relatorio"></ul>

        <h3>Foto do Pesquisador</h3>
        <div class="foto-pesquisador">
            <img src="https://via.placeholder.com/100" id="foto-usuario" class="foto-usuario" alt="Foto do usu√°rio">
            <p><strong>pessoa:</strong> Juju stora bazuka</p> <!-- Substitua por nome do pesquisador -->
        </div>

        <div id="relatorio-final" class="relatorio-final">
            <!-- O relat√≥rio final aparecer√° aqui quando todos os 7 dias forem registrados -->
        </div>
    </div>

    <script>
        const form = document.getElementById("humorForm");
        const relatorioList = document.getElementById("relatorio");
        const relatorioFinal = document.getElementById("relatorio-final");
        const diasSemana = {
            1: "Segunda-feira",
            2: "Ter√ßa-feira",
            3: "Quarta-feira",
            4: "Quinta-feira",
            5: "Sexta-feira",
            6: "S√°bado",
            7: "Domingo"
        };

        let humorDados = [];

        // Fun√ß√£o para obter o emoji baseado no humor
        const getEmoji = (humor) => {
            switch(humor) {
                case '1':
                    return 'üòì';
                case '2':
                    return 'üòí';
                case '3':
                    return 'üòê';
                case '4':
                    return 'üòä';
                case '5':
                    return 'üòÅ';
                default:
                    return '';
            }
        };

        form.addEventListener("submit", function(event) {
            event.preventDefault();

            const dia = document.getElementById("dia").value;
            const selectedRadio = document.querySelector('input[name="humor"]:checked'); // Seleciona o radio selecionado

            if (!selectedRadio) {
                alert("Por favor, selecione uma op√ß√£o de humor.");
                return;
            }

            const humor = selectedRadio.value; // Pega o valor do radio selecionado
            const emoji = getEmoji(humor);
            const li = document.createElement("li");
            li.textContent = `${diasSemana[dia]}: Humor ${humor} ${emoji}`;
            relatorioList.appendChild(li);

            // Armazenar os dados no array
            humorDados.push({ dia: diasSemana[dia], humor: parseInt(humor) });

            // Limpar os bot√µes de r√°dio e selecionar o pr√≥ximo dia
            document.querySelectorAll('input[name="humor"]').forEach(radio => radio.checked = false);

            // Pular para o pr√≥ximo dia
            const diaSelect = document.getElementById("dia");
            if (parseInt(dia) < 7) {
                diaSelect.value = parseInt(dia) + 1;
            } else {
                diaSelect.value = 1;
            }

            // Verificar se todos os dias foram preenchidos
            if (humorDados.length === 7) {
                exibirRelatorioFinal();
            }
        });

        // Fun√ß√£o para exibir o relat√≥rio final
        const exibirRelatorioFinal = () => {
            const media = humorDados.reduce((acc, val) => acc + val.humor, 0) / humorDados.length;
            const textoMotivacional = media <= 3 ? 
                'Lembre-se, dias dif√≠ceis acontecem, mas sua for√ßa √© o que faz a diferen√ßa. Continue firme!' : 
                'Parab√©ns pela sua resili√™ncia! Voc√™ enfrentou a semana com coragem e dedica√ß√£o. Continue assim!';

            const relatorioText = `
                <h2>Relat√≥rio Semanal Completo</h2>
                <ul>
                    ${humorDados.map(item => `<li>${item.dia}: Humor ${item.humor} ${getEmoji(item.humor)}</li>`).join('')}
                </ul>
                <h3>M√©dia de Humor: ${media.toFixed(2)}</h3>
                <p><strong>${textoMotivacional}</strong></p>
            `;

            relatorioFinal.innerHTML = relatorioText;
        };
    </script>

</body>
</html>
